(this["webpackJsonpreact-three"]=this["webpackJsonpreact-three"]||[]).push([[0],{56:function(e,t,o){e.exports=o(73)},60:function(e,t,o){},73:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),c=o(20),a=o.n(c),i=(o(60),o(26)),l=function(e){return{type:"SET_CLICKED_FLOOR",payload:e}},u=function(e){return{type:"SET_CLICKED_ROOM",payload:e}},s=o(8),m=o(55),d=o(29),p=o(11),f=o(48),k=function(e){var t=e.clickedFloor,o=e.clickedRoom,c=e.clickCount,a=e.onClickedFloorChange,i=e.onClickedRoomChange,l=Object(n.useRef)(),u=Object(n.useRef)([]),m=Object(n.useRef)([]),d=Object(n.useRef)([[],[],[],[],[]]),k=Object(n.useRef)([]);Object(s.d)((function(){l.current.rotation.y+=.001,null!==t?u.current.forEach((function(e,o){var n=Math.abs(t-o);t!==o?(m.current[o].opacity=.2,k.current[o].opacity=.2,d.current[o].forEach((function(e){e.opacity=.2})),t<o?e.position.y<10*o+30*n&&(e.position.y+=2):e.position.y>10*o-30*n&&(e.position.y-=2)):e.position.y<10*o&&(e.position.y+=2)})):0!==c&&u.current.forEach((function(e,t){d.current[t].forEach((function(e){e.opacity=1})),e.position.y>10*t?(m.current[t].opacity=1,k.current[t].opacity=1,e.position.y-=2):e.position.y<10*t&&(m.current[t].opacity=1,k.current[t].opacity=1,e.position.y+=2)}))}));var E=Object(n.useState)(null),C=Object(p.a)(E,2),b=C[0],h=C[1],y=Object(n.useState)(null),g=Object(p.a)(y,2),O=g[0],v=g[1],R=Object(s.e)(f.a,"./models/floor01.glb").nodes,_=[R.floor_room_0_1,R.floor_room_1_1,R.floor_room_2_1,R.floor_room_3_1,R.floor_room_4_1,R.floor_room_5_1],F=function(e,o){null===t?o?h(e):b===e&&h(null):h(null)},j=function(e,o,n,r){null!==t&&t===e&&(r.stopPropagation(),n?v(o):O===o&&v(null))},w=function(e,t,o){var n=[e,t,o];return n.map((function(e){return e*(Math.PI/180)}))};return r.a.createElement("group",{ref:l},[0,1,2,3,4].map((function(e,n){return r.a.createElement("group",{key:n,ref:function(e){return u.current[n]=e},position:[0,10*n,0],rotation:w(90,180,0)},r.a.createElement("mesh",{dispose:null,onPointerOver:function(e){e.stopPropagation(),F(n,!0)},onPointerOut:function(e){e.intersections.length&&F(n,!1)},onClick:function(e){var o;e.stopPropagation(),o=n,null===t&&(a(o),h([!1,!1,!1,!1,!1]))},geometry:R.floor_top_1.geometry},r.a.createElement("meshStandardMaterial",{attach:"material",ref:function(e){return m.current[n]=e},transparent:!0,color:"white"})),r.a.createElement("mesh",{geometry:R.floor_side_1.geometry},r.a.createElement("meshStandardMaterial",{attach:"material",ref:function(e){return k.current[n]=e},transparent:!0,color:b===n?"#00FBFF":"grey"})),_.map((function(e,c){return r.a.createElement("group",{key:c},r.a.createElement("mesh",{geometry:e.geometry,onPointerOver:function(e){j(n,c,!0,e)},onPointerOut:function(e){j(n,c,!1,e)},onClick:function(e){var o,n;o=c,n=e,null!==t&&(n.stopPropagation(),i(o))}},r.a.createElement("meshStandardMaterial",{attach:"material",ref:function(e){return d.current[n][c]=e},transparent:!0,color:t===n&&O===c||t===n&&o===c?"yellow":"#E3E3E3"})))})))})))};Object(s.c)({OrbitControls:d.b}),Object(m.a)();var E=function(){var e=Object(s.f)(),t=e.camera,o=e.gl.domElement,c=Object(n.useRef)();return Object(s.d)((function(e){return c.current.update()})),r.a.createElement("orbitControls",{ref:c,args:[t,o],minDistance:150})};var C={setClickedFloor:l,setClickedRoom:u},b=Object(i.b)((function(e){return{clickedFloor:e.setClickedFloor.clickedFloor,clickedRoom:e.setClickedRoom.clickedRoom,clickCount:e.setClickedFloor.clickCount}}),C)((function(e){var t=e.clickedFloor,o=e.clickedRoom,c=e.clickCount,a=e.setClickedFloor,i=e.setClickedRoom;return r.a.createElement("div",{className:"floor-model-container"},r.a.createElement(s.a,{colorManagement:!0,shadowMap:!0,camera:{position:[10,15,-20],fov:60}},r.a.createElement(E,null),r.a.createElement("ambientLight",{intensity:.6}),r.a.createElement("pointLight",{position:[-10,100,-20],intensity:.5}),r.a.createElement("group",null,r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(k,{onClickedFloorChange:function(e){a(e)},onClickedRoomChange:function(e){i(e)},clickedFloor:t,clickedRoom:o,clickCount:c})))))})),h=o(53),y=o(54);var g={setClickedFloor:l,setClickedRoom:u},O=Object(i.b)((function(e){return{clickedFloor:e.setClickedFloor.clickedFloor,clickedRoom:e.setClickedRoom.clickedRoom}}),g)((function(e){var t=e.clickedFloor,o=e.clickedRoom,n=e.setClickedFloor,c=e.setClickedRoom;return r.a.createElement("div",{className:"info-window",style:{right:null!==t?"0%":"-100%"}},r.a.createElement("div",{className:"btn btn-close",onClick:function(){n(null),c(null)}},r.a.createElement(h.a,{icon:y.a,className:"icon"})),r.a.createElement("div",{className:"floor-container container"},r.a.createElement("h1",null,"Floor ".concat(t+1)),r.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ipsa explicabo, alias a eum cumque vel praesentium dolores consequuntur debitis blanditiis perferendis tempore tenetur qui. Esse odio aperiam rerum reiciendis soluta.")),r.a.createElement("div",{className:"room-container container",style:{display:null!==o?"flex":"none"}},r.a.createElement("h1",null,"Room ".concat(o+1)),r.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ipsa explicabo, alias a eum cumque vel praesentium dolores consequuntur debitis blanditiis perferendis tempore tenetur qui. Esse odio aperiam rerum reiciendis soluta.")))}));var v=function(){return r.a.createElement("div",{className:"website-wrapper"},r.a.createElement(b,null),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=o(24),_=o(27),F={clickedFloor:null,clickCount:0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLICKED_FLOOR":return Object(_.a)(Object(_.a)({},e),{},{clickedFloor:t.payload,clickCount:e.clickCount+1});default:return e}},w={clickedRoom:null,clickCount:0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLICKED_ROOM":return Object(_.a)(Object(_.a)({},e),{},{clickedRoom:t.payload,clickCount:e.clickCount+1});default:return e}},L=Object(R.b)({setClickedFloor:j,setClickedRoom:S}),M=Object(R.c)(L);a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:M},r.a.createElement(v,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.1486ad30.chunk.js.map